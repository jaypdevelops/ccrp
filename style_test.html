<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gift a Pass</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://kit.fontawesome.com/c06f2af5e6.js" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>

<header>
  <h1>Gift a Pass</h1>
</header>

<br><br><br><br>

<!-- START OF MAIN CONTENT -->
<div class="content active">

  <h2>Gift a pass to someone</h2>
  <p>Pick a pass to gift to a friend or anyone. Enter their username, select the pass type, and we'll handle the rest!</p>
<div class="item-list">
  <form id="giftForm">
      <label for="usernameInput">Username:</label>
      <input type="text" id="usernameInput" name="username" class="input" placeholder="Enter username..." required>

    <!-- Custom Dropdown Menu -->
    <div class="dropdown">
      <button class="dropdown-button" type="button" id="dropdownMenuButton" aria-haspopup="true" aria-expanded="false">
        Select Pass Type
      </button>
      <div class="dropdown-content" id="dropdownMenu">
        <a href="#" data-value="Standard Pass">Standard Pass</a>
        <a href="#" data-value="Premium Pass">Premium Pass</a>
        <a href="#" data-value="VIP Pass">VIP Pass</a>
      </div>
    </div>

    <input type="hidden" id="passType" name="passType" required>

    <div class="form-group">
      <button type="submit" class="button">Gift Pass</button>
    </div>
  </form>
</div>

</div>
<!-- END OF MAIN CONTENT -->

<!-- RIGHT CLICK MENU -->
<div id="custom-menu" class="custom-menu">
  <ul>
    <li><a href="https://example.com/option1" id="menu-item-1" target="_blank">Home</a></li>
    <li><a href="https://example.com/option2" id="menu-item-2" target="_blank">Gamepasses</a></li>
    <li><a href="https://example.com/option3" id="menu-item-3" target="_blank">Meet our Staff</a></li>
    <li><a href="https://example.com/option4" id="menu-item-4" target="_blank">Server Status</a></li>
    <li><a href="https://example.com/option4" id="menu-item-5" target="_blank">Community Server</a></li>
    <li><a href="staff.html" id="menu-item-6" target="_blank">Moderation Staff</a></li>
  </ul>
</div>

</body>

<script>
  // Get the custom menu element
  const customMenu = document.getElementById('custom-menu');

  // Function to handle right-click event
  document.addEventListener('contextmenu', function(event) {
    event.preventDefault(); // Prevent the default context menu

    // Position the custom menu at the mouse pointer
    customMenu.style.left = `${event.pageX}px`;
    customMenu.style.top = `${event.pageY}px`;

    // Show the custom menu
    customMenu.style.display = 'block';
  });

  // Hide the custom menu when clicking anywhere else
  document.addEventListener('click', function(event) {
    customMenu.style.display = 'none';
  });

  // Discord Webhook URL (replace with your actual webhook URL)
  const webhookURL = 'https://discord.com/api/webhooks/YOUR_WEBHOOK_URL';

  // Function to send alert to Discord
  function sendDiscordAlert(username, passType) {
    const embed = {
      "embeds": [
        {
          "title": "New Pass Gifted",
          "description": `A new pass has been gifted to **${username}**.`,
          "color": 3447003,
          "fields": [
            {
              "name": "Username",
              "value": username,
              "inline": true
            },
            {
              "name": "Gifted Pass",
              "value": passType,
              "inline": true
            }
          ],
          "footer": {
            "text": "Gift Alert"
          }
        }
      ]
    };

    // Send POST request to Discord webhook
    fetch(webhookURL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(embed)
    })
    .then(response => response.json())
    .then(data => {
      console.log("Webhook sent successfully:", data);
    })
    .catch(error => {
      console.error("Error sending webhook:", error);
    });
  }

  // Handle form submission
  document.getElementById('giftForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent the form from submitting the default way

    const username = document.getElementById('usernameInput').value;
    const passType = document.getElementById('passType').value;

    if (username && passType) {
      sendDiscordAlert(username, passType);
      alert('Pass gifted successfully!');
      document.getElementById('giftForm').reset(); // Reset form after submission
    } else {
      alert('Please fill in all fields.');
    }
  });

  // Dropdown Menu functionality
  const dropdownButton = document.getElementById('dropdownMenuButton');
  const dropdownMenu = document.getElementById('dropdownMenu');
  const passTypeInput = document.getElementById('passType');

  // Toggle the dropdown menu visibility
  dropdownButton.addEventListener('click', function() {
    dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
  });

  // Set pass type when an option is selected
  const dropdownLinks = dropdownMenu.querySelectorAll('a');
  dropdownLinks.forEach(function(link) {
    link.addEventListener('click', function(event) {
      event.preventDefault();
      const selectedPass = link.getAttribute('data-value');
      passTypeInput.value = selectedPass; // Set the hidden input field
      dropdownButton.textContent = selectedPass; // Update button text
      dropdownMenu.style.display = 'none'; // Close the dropdown menu
    });
  });

  // Close the dropdown menu if clicking outside
  document.addEventListener('click', function(event) {
    if (!dropdownButton.contains(event.target)) {
      dropdownMenu.style.display = 'none';
    }
  });

</script>

</html>
