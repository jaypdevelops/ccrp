<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Sanctuary Motorsport</title>

  <link rel="stylesheet" href="style.css"/>
  <script src="https://kit.fontawesome.com/c06f2af5e6.js" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/0c8bf0ec2b.js" crossorigin="anonymous"></script>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,100..900;1,100..900&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=UnifrakturCook:wght@700&family=UnifrakturMaguntia&display=swap" rel="stylesheet"/>

  <style>
    body {
      background-image: url('images/background.PNG');
      background-size: 200px;
      background-repeat: repeat;
      background-attachment: scroll;
      background-position: top left;
      font-family: 'Montserrat', sans-serif;
      color: white;
      overflow-x: hidden;
      margin: 0;
      padding: 0;
    }

    .itemcustom,
    .item-info .info-box,
    .item-info .error-box {
      background-color: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .item {
      background-color: rgba(43, 29, 30, 0.3);
      padding: 20px;
    }

    header {
      background-color: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      z-index: 1001;
      padding: 20px;
    }

    .carousel-container {
      position: relative;
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      overflow: hidden;
      cursor: grab;
      user-select: none;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.3s ease-out;
      will-change: transform;
      padding: 0;
      margin: 0;
    }

    .carousel-track img {
      width: 100%;
      flex-shrink: 0;
      object-fit: contain;
      pointer-events: none;
      user-select: none;
    }

    .sanctuary-card {
      margin-top: 15px;
      background-color: rgba(0,0,0,0.5);
      padding: 15px;
      border-radius: 6px;
    }
    .card-header h3 {
      margin: 0;
    }
    .card-header p {
      display: inline-block;
      margin: 0 0 0 8px;
      font-weight: 300;
      font-size: 1rem;
      color: #ccc;
    }
    .card-body {
      margin-top: 10px;
      font-size: 0.9rem;
      line-height: 1.4;
    }
    .card-footer {
      margin-top: 15px;
      font-weight: 600;
      font-size: 1.2rem;
      color: #f5f5f5;
    }
    .button {
      margin-top: 10px;
      padding: 10px 15px;
      background-color: rgba(255,255,255,0.1);
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      border-radius: 4px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: background-color 0.3s ease;
    }
    .button:hover {
      background-color: rgba(255,255,255,0.25);
    }

  </style>
</head>

<body>
  <header>
    <h1>sanctuary motorsport</h1>
  </header>
  <br>
  <div class="container">

    <!-- NAVIGATION BUTTONS -->
    <nav>
      <a href="" class="nav-button-link"><button class="active-button"><i class="fa-solid fa-house"></i></button></a>
      <a href="products" class="nav-button-link"><button class="nav-button"><i class="fa-solid fa-shop"></i></button></a>
      <a href="meet_our_staff" class="nav-button-link"><button class="nav-button"><i class="fa-solid fa-sterling-sign"></i></button></a>
    </nav>
  </div>

  <!-- MAIN CONTENT -->
  <div class="content active">
    <h2>homepage</h2>
    <div class="item-list">
      <div class="item">
        <div class="item-info">
          <p>Sanctuary Motorsport is a clothing brand born from the intersection of speed, style, and self-expression. Inspired by motorsport culture, we create streetwear that captures the raw energy of the track and the freedom of the road.</p>
          <br>

          <!-- IMAGE CAROUSEL -->
          <div class="carousel-container">
            <div class="carousel-track" id="carouselTrack">
              <img src="images/acid_wash_classic_red_front.png" alt="Front">
              <img src="images/acid_wash_classic_red_back.png" alt="Back">
              <img src="images/acid_wash_classic_red_front.png" alt="Front Clone">
            </div>
          </div>

          <div class="sanctuary-card">
            <div class="card-header">
              <h3>Acid Wash Oversized Tee <p>[CLASSIC]</p></h3>
            </div>
            <div class="card-body">
              <p>Built for the next generation of speed lovers, the Sanctuary Motorsport Kids Tee features our bold gothic logo front and back, bringing motorsport culture to the streetwear scene. Comfortable, durable, and designed to move.
              <br><br>
              <strong>Available in:</strong> White, Black, Navy Blue<br>
              <strong>Sizes:</strong> Ages 4–14<br>
              <strong>Fit:</strong> Regular<br>
              <strong>Material:</strong> 100% Cotton<br>
              </p>
            </div>
            <div class="card-footer">
              <span class="price">£ 16.99</span>
            </div>
          </div>

          <a href="meet_our_staff" class="nav-button-link">
            <button class="button"><i class="fa-solid fa-credit-card"></i> buy now</button>
          </a>
        </div>
      </div>
    </div>
  </div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const track = document.querySelector(".carousel-track");
  const container = document.querySelector(".carousel-container");
  let slides = Array.from(track.children);

  // Clone first and last slides for infinite loop effect
  const firstClone = slides[0].cloneNode(true);
  const lastClone = slides[slides.length - 1].cloneNode(true);
  firstClone.setAttribute("data-clone", "first");
  lastClone.setAttribute("data-clone", "last");
  track.appendChild(firstClone);
  track.insertBefore(lastClone, slides[0]);
  slides = Array.from(track.children); // update slides list

  let currentIndex = 1;
  let slideWidth = container.clientWidth;
  let isDragging = false;
  let startPos = 0;
  let currentTranslate = 0;
  let prevTranslate = 0;
  let animationID;

  // Set slide widths and initial position
  function setSlideWidths() {
    slideWidth = container.clientWidth;
    slides.forEach(slide => {
      slide.style.width = slideWidth + "px";
    });
    track.style.width = slideWidth * slides.length + "px";
    setPositionByIndex();
  }

  function setPositionByIndex() {
    currentTranslate = -slideWidth * currentIndex;
    prevTranslate = currentTranslate;
    setSliderPosition();
  }

  function setSliderPosition() {
    track.style.transform = `translateX(${currentTranslate}px)`;
  }

  // Animation frame for smooth dragging
  function animation() {
    setSliderPosition();
    if (isDragging) requestAnimationFrame(animation);
  }

  // Touch / Mouse Events
  function touchStart() {
    return function(event) {
      isDragging = true;
      startPos = getPositionX(event);
      animationID = requestAnimationFrame(animation);
      container.style.cursor = 'grabbing';
      track.style.transition = 'none'; // disable transition while dragging
    }
  }

  function touchMove(event) {
    if (!isDragging) return;
    const currentPositionX = getPositionX(event);
    const diff = currentPositionX - startPos;
    currentTranslate = prevTranslate + diff;
  }

  function touchEnd() {
    cancelAnimationFrame(animationID);
    isDragging = false;
    container.style.cursor = 'grab';

    // Calculate how much we've dragged, snap to next or previous slide
    const movedBy = currentTranslate - prevTranslate;

    // Enable smooth snapping transition
    track.style.transition = 'transform 0.3s ease-out';

    if (movedBy < -slideWidth / 4 && currentIndex < slides.length - 1) {
      currentIndex += 1;
    }

    if (movedBy > slideWidth / 4 && currentIndex > 0) {
      currentIndex -= 1;
    }

    setPositionByIndex();
  }

  function getPositionX(event) {
    return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
  }

  // Loop handling after transition ends
  track.addEventListener('transitionend', () => {
    if (slides[currentIndex].getAttribute('data-clone') === 'last') {
      track.style.transition = 'none';
      currentIndex = slides.length - 2;
      setPositionByIndex();
    }
    if (slides[currentIndex].getAttribute('data-clone') === 'first') {
      track.style.transition = 'none';
      currentIndex = 1;
      setPositionByIndex();
    }
  });

  // Dragging start
  container.addEventListener('mousedown', touchStart());
  container.addEventListener('touchstart', touchStart());

  // Dragging move
  container.addEventListener('mousemove', touchMove);
  container.addEventListener('touchmove', touchMove);

  // Dragging end
  container.addEventListener('mouseup', touchEnd);
  container.addEventListener('mouseleave', () => {
    if (isDragging) touchEnd();
  });
  container.addEventListener('touchend', touchEnd);

  // Resize event to recalc slide widths
  window.addEventListener('resize', () => {
    setSlideWidths();
  });

  // Initial setup
  setSlideWidths();
});
</script>
</body>
</html>